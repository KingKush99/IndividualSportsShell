<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Profile · Sumo Showdown Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* GLOBAL PROFILE STYLING – COMIC SANS BOLD */
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: "Comic Sans MS", "Comic Sans", system-ui, sans-serif;
      font-weight: bold;
      background: radial-gradient(circle at top, #20263b, #05060a);
      color: #f5f5f5;
      display: flex;
      flex-direction: column;
    }

    a {
      color: #ffdd66;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* TOP BAR */
    .top-bar {
      display: flex;
      align-items: center;
      padding: 10px 16px;
      border-bottom: 1px solid #121320;
      background: #05060aee;
    }

    .hamburger {
      font-size: 24px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: #141726;
      color: #f5f5f5;
      cursor: pointer;
      margin-right: 10px;
    }

    .back-link {
      font-size: 14px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #22263c;
      color: #ffdd88;
      white-space: nowrap;
    }

    .top-bar-spacer {
      flex: 1;
    }

    .settings-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: none;
      background: #141726;
      color: #f5f5f5;
      cursor: pointer;
      font-size: 20px;
    }

    /* PAGE WRAP */
    .page {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 12px 16px 0 16px;
      max-width: 1100px;
      margin: 0 auto;
      width: 100%;
    }

    .page h1 {
      margin: 8px 0 4px 0;
      font-size: 26px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .page p.subheading {
      margin-top: 0;
      font-size: 13px;
      opacity: 0.9;
    }

    /* MAIN PROFILE LAYOUT */
    .profile-layout {
      display: grid;
      grid-template-columns: minmax(260px, 340px) minmax(0, 1fr);
      gap: 16px;
      margin-top: 10px;
      align-items: flex-start;
    }

    @media (max-width: 840px) {
      .profile-layout {
        grid-template-columns: 1fr;
      }
    }

    /* AVATAR CARD */
    .avatar-card {
      background: #141726;
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.75);
    }

    .avatar-title {
      font-size: 14px;
      margin-bottom: 8px;
    }

    .avatar-preview-box {
      background: radial-gradient(circle at top, #303958, #15182a);
      border-radius: 18px;
      height: 260px;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* SIMPLE FULL-BODY AVATAR (MATCH EXISTING STYLE) */
    .avatar-figure {
      position: relative;
      width: 120px;
      height: 200px;
    }

    .avatar-body {
      position: absolute;
      left: 50%;
      top: 60px;
      transform: translateX(-50%);
      width: 70px;
      height: 90px;
      border-radius: 35px;
      background: var(--body-color, #f3d0a0);
      box-shadow: 0 0 0 5px #00000033;
    }

    .avatar-mawashi {
      position: absolute;
      left: 50%;
      top: 105px;
      transform: translateX(-50%);
      width: 80px;
      height: 30px;
      border-radius: 20px;
      background: var(--mawashi-color, #e74c3c);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);
    }

    .avatar-shirt {
      position: absolute;
      left: 50%;
      top: 60px;
      transform: translateX(-50%);
      width: 80px;
      height: 50px;
      border-radius: 20px 20px 30px 30px;
      background: var(--shirt-color, #2c3e50);
      opacity: var(--shirt-visible, 1);
    }

    .avatar-pants {
      position: absolute;
      left: 50%;
      top: 110px;
      transform: translateX(-50%);
      width: 70px;
      height: 40px;
      border-radius: 10px;
      background: var(--pants-color, #34495e);
      opacity: var(--pants-visible, 1);
    }

    .avatar-leg {
      position: absolute;
      width: 16px;
      height: 40px;
      background: var(--body-color, #f3d0a0);
      bottom: 20px;
      border-radius: 10px;
    }

    .avatar-leg.left {
      left: calc(50% - 22px);
    }

    .avatar-leg.right {
      left: calc(50% + 6px);
    }

    .avatar-foot {
      position: absolute;
      width: 22px;
      height: 8px;
      background: #111;
      bottom: 12px;
      border-radius: 8px;
    }

    .avatar-foot.left {
      left: calc(50% - 26px);
    }

    .avatar-foot.right {
      left: calc(50% + 4px);
    }

    .avatar-head {
      position: absolute;
      left: 50%;
      top: 18px;
      transform: translateX(-50%);
      width: 54px;
      height: 54px;
      border-radius: 50%;
      background: var(--body-color, #f3d0a0);
      box-shadow: 0 0 0 4px #00000040;
    }

    .avatar-ear {
      position: absolute;
      width: 12px;
      height: 16px;
      border-radius: 50%;
      background: var(--body-color, #f3d0a0);
      top: 30px;
    }

    .avatar-ear.left {
      left: calc(50% - 33px);
    }

    .avatar-ear.right {
      left: calc(50% + 21px);
    }

    .avatar-hair {
      position: absolute;
      left: 50%;
      top: 10px;
      transform: translateX(-50%);
      width: 60px;
      height: 30px;
      background: var(--hair-color, #1b1411);
      border-radius: var(--hair-radius, 40px 40px 10px 10px);
    }

    .avatar-topknot {
      position: absolute;
      left: 50%;
      top: 0px;
      transform: translateX(-50%);
      width: 22px;
      height: 18px;
      border-radius: 50%;
      background: var(--hair-color, #1b1411);
      opacity: var(--topknot-visible, 1);
    }

    .avatar-eye {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #000;
      border-radius: 50%;
      top: 34px;
    }

    .avatar-eye.left {
      left: calc(50% - 10px);
    }

    .avatar-eye.right {
      left: calc(50% + 4px);
    }

    .avatar-mouth {
      position: absolute;
      width: 20px;
      height: 10px;
      border-radius: 0 0 20px 20px;
      border-bottom: 3px solid #a03030;
      top: 44px;
      left: calc(50% - 10px);
    }

    .avatar-aura {
      position: absolute;
      left: 50%;
      top: 100px;
      transform: translateX(-50%);
      width: 140px;
      height: 140px;
      border-radius: 50%;
      box-shadow: 0 0 30px var(--aura-color, transparent);
      opacity: var(--aura-visible, 0);
    }

    /* DISPLAY NAME / USERNAME */
    .identity-card {
      margin-top: 10px;
      background: #141726;
      border-radius: 14px;
      padding: 8px 10px;
      font-size: 12px;
    }

    .identity-row {
      display: flex;
      gap: 6px;
      margin-bottom: 6px;
      align-items: center;
      flex-wrap: wrap;
    }

    .identity-label {
      width: 110px;
      font-size: 11px;
      opacity: 0.9;
    }

    .identity-input {
      flex: 1;
      min-width: 0;
      padding: 4px 6px;
      border-radius: 8px;
      border: 1px solid #33384f;
      background: #050711;
      color: #f5f5f5;
      font-family: "Comic Sans MS", "Comic Sans";
      font-weight: bold;
      font-size: 12px;
    }

    .identity-btn {
      padding: 4px 10px;
      border-radius: 999px;
      border: none;
      background: #41b883;
      color: #101222;
      cursor: pointer;
      font-size: 11px;
      white-space: nowrap;
    }

    .identity-btn.secondary {
      background: #ffb347;
    }

    .identity-help {
      font-size: 11px;
      opacity: 0.8;
    }

    /* RIGHT SIDE – CUSTOMIZATION + SUBTABS */
    .right-panel {
      background: #101320;
      border-radius: 18px;
      padding: 10px 12px 12px 12px;
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.75);
    }

    .right-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
      gap: 8px;
    }

    .right-header-title {
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    /* CUSTOMIZATION GRID */
    .customization-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-bottom: 10px;
    }

    @media (max-width: 840px) {
      .customization-grid {
        grid-template-columns: 1fr;
      }
    }

    .custom-group {
      background: #181a2b;
      border-radius: 12px;
      padding: 8px;
      font-size: 12px;
    }

    .custom-group-title {
      margin-bottom: 4px;
      font-size: 12px;
      color: #ffdd88;
    }

    .custom-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
      flex-wrap: wrap;
    }

    .custom-row label {
      font-size: 11px;
      min-width: 80px;
      opacity: 0.9;
    }

    select.custom-select,
    input[type="color"].custom-color {
      flex: 1;
      min-width: 0;
      border-radius: 8px;
      border: 1px solid #33384f;
      background: #050711;
      color: #f5f5f5;
      padding: 3px 6px;
      font-family: "Comic Sans MS", "Comic Sans";
      font-weight: bold;
      font-size: 11px;
    }

    input[type="color"].custom-color {
      padding: 0;
      height: 24px;
    }

    /* SUBTABS UNDER CUSTOMIZE */
    .subtab-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 6px;
    }

    .subtab-btn {
      border: none;
      border-radius: 999px;
      padding: 5px 10px;
      font-size: 11px;
      background: #181a2b;
      color: #f5f5f5;
      cursor: pointer;
    }

    .subtab-btn.active {
      background: linear-gradient(90deg, #ff9f43, #ff6b81);
      color: #101320;
    }

    .subtab-panel {
      display: none;
      background: #181a2b;
      border-radius: 12px;
      padding: 8px 10px;
      font-size: 12px;
      min-height: 140px;
    }

    .subtab-panel.active {
      display: block;
    }

    /* XP / LEVEL BAR */
    .level-wrap {
      margin-top: 8px;
      margin-bottom: 4px;
    }

    .level-labels {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      margin-bottom: 2px;
    }

    .level-bar {
      position: relative;
      width: 100%;
      height: 16px;
      border-radius: 999px;
      background: #2a1d15;
      overflow: hidden;
      box-shadow: inset 0 0 0 2px #00000080;
    }

    .level-fill {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #55ff77, #ffe57e);
      transition: width 0.25s ease-out;
    }

    /* STATS GRID */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 6px;
    }

    .stat-card {
      background: #101320;
      border-radius: 10px;
      padding: 6px;
      text-align: center;
    }

    .stat-name {
      font-size: 11px;
      margin-bottom: 2px;
    }

    .stat-value {
      font-size: 16px;
      margin-bottom: 4px;
    }

    .stat-buttons {
      display: flex;
      justify-content: center;
      gap: 4px;
    }

    .stat-btn {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 14px;
      background: #2b8bcf;
      color: #f5f5f5;
    }

    .stat-btn.minus {
      background: #c0392b;
    }

    .stat-footer {
      margin-top: 6px;
      font-size: 11px;
      text-align: right;
      opacity: 0.9;
    }

    /* ITEMS / CAMPAIGN / CHECKOUT PANELS */
    .items-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 8px;
    }

    .item-card {
      background: #101320;
      border-radius: 10px;
      padding: 6px;
      font-size: 11px;
    }

    .item-name {
      font-size: 12px;
      margin-bottom: 2px;
      color: #ffdd88;
    }

    .campaign-list {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 12px;
    }

    .campaign-list li {
      padding: 4px 0;
      border-bottom: 1px solid #252a3c;
    }

    .campaign-tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 10px;
      margin-left: 6px;
    }

    .tag-locked {
      background: #7f8c8d;
      color: #111;
    }

    .tag-unlocked {
      background: #2ecc71;
      color: #111;
    }

    .checkout-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 4px;
      font-size: 12px;
    }

    .checkout-total {
      margin-top: 6px;
      font-size: 13px;
      text-align: right;
    }

    /* SETTINGS MODAL */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-backdrop.active {
      display: flex;
    }

    .modal {
      background: #101320;
      border-radius: 18px;
      padding: 12px;
      max-width: 520px;
      width: 92%;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.9);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .modal-title {
      font-size: 16px;
    }

    .modal-close {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: #c0392b;
      color: #f5f5f5;
      font-size: 18px;
      cursor: pointer;
    }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 6px;
    }

    .setting-card {
      background: #181a2b;
      border-radius: 10px;
      padding: 6px;
      font-size: 11px;
    }

    .setting-name {
      font-size: 12px;
      margin-bottom: 2px;
      color: #ffdd88;
    }

    .setting-control {
      font-size: 11px;
      opacity: 0.9;
    }

    /* FOOTER WITH LANGUAGE SELECT */
    footer {
      padding: 8px 16px 12px 16px;
      border-top: 1px solid #121320;
      background: #05060a;
      font-size: 11px;
    }

    .footer-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
      flex-wrap: wrap;
    }

    .visitor-stats {
      display: flex;
      gap: 12px;
    }

    .language-select {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .language-select select {
      border-radius: 999px;
      border: 1px solid #33384f;
      background: #050711;
      color: #f5f5f5;
      padding: 2px 8px;
      font-family: "Comic Sans MS", "Comic Sans";
      font-weight: bold;
      font-size: 11px;
    }

    .footer-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 3px 20px;
      max-width: 520px;
      margin-top: 4px;
    }

    .footer-link {
      color: #bfbfd8;
    }

    .footer-link:hover {
      text-decoration: underline;
    }

  </style>
</head>
<body>
  <!-- TOP BAR -->
  <header class="top-bar">
    <button class="hamburger" aria-label="Menu">☰</button>
    <a href="index.html" class="back-link" data-i18n="backHub">Back to Hub</a>
    <div class="top-bar-spacer"></div>
    <button class="settings-btn" id="settingsBtn" aria-label="Settings">⚙</button>
  </header>

  <!-- MAIN PAGE -->
  <main class="page">
    <h1 data-i18n="profileTitle">Your Player</h1>
    <p class="subheading" data-i18n="profileSubtitle">
      Edit your display name, avatar style, stats, and campaign progress.
    </p>

    <div class="profile-layout">
      <!-- LEFT: AVATAR + IDENTITY -->
      <section class="avatar-card">
        <div class="avatar-title" data-i18n="avatarTitle">Your Wrestler</div>
        <div class="avatar-preview-box">
          <div class="avatar-figure">
            <div class="avatar-aura"></div>
            <div class="avatar-leg left"></div>
            <div class="avatar-leg right"></div>
            <div class="avatar-foot left"></div>
            <div class="avatar-foot right"></div>
            <div class="avatar-body"></div>
            <div class="avatar-pants"></div>
            <div class="avatar-mawashi"></div>
            <div class="avatar-shirt"></div>
            <div class="avatar-head"></div>
            <div class="avatar-ear left"></div>
            <div class="avatar-ear right"></div>
            <div class="avatar-hair"></div>
            <div class="avatar-topknot"></div>
            <div class="avatar-eye left"></div>
            <div class="avatar-eye right"></div>
            <div class="avatar-mouth"></div>
          </div>
        </div>

        <div class="identity-card">
          <div class="identity-row">
            <span class="identity-label" data-i18n="displayNameLabel">Display name:</span>
            <input id="displayNameInput" class="identity-input" maxlength="64" />
            <button id="saveDisplayNameBtn" class="identity-btn secondary" data-i18n="saveDisplayName">
              Save
            </button>
          </div>
          <div class="identity-row">
            <span class="identity-label" data-i18n="usernameLabel">Username:</span>
            <input id="usernameInput" class="identity-input" maxlength="64" />
            <button id="saveUsernameBtn" class="identity-btn" data-i18n="saveUsername">
              Save (1× / week)
            </button>
          </div>
          <div class="identity-help" data-i18n="identityHelp">
            Usernames can be changed once a week. Display names can be updated any time.
          </div>
        </div>
      </section>

      <!-- RIGHT: CUSTOMIZE + SUBTABS + LEVEL -->
      <section class="right-panel">
        <div class="right-header">
          <div class="right-header-title" data-i18n="customizeHeader">Customize</div>
        </div>

        <!-- CUSTOMIZATION CONTROLS -->
        <div class="customization-grid">
          <!-- FACE / HAIR -->
          <div class="custom-group">
            <div class="custom-group-title" data-i18n="faceHairTitle">Face &amp; Hair</div>
            <div class="custom-row">
              <label for="skinColorInput" data-i18n="skinColor">Skin color</label>
              <input id="skinColorInput" type="color" class="custom-color" value="#f3d0a0" />
            </div>
            <div class="custom-row">
              <label for="hairStyleSelect" data-i18n="hairStyle">Hair style</label>
              <select id="hairStyleSelect" class="custom-select">
                <option value="topknot" data-i18n="hairTopknot">Topknot</option>
                <option value="short" data-i18n="hairShort">Short</option>
                <option value="long" data-i18n="hairLong">Long</option>
                <option value="mohawk" data-i18n="hairMohawk">Mohawk</option>
              </select>
            </div>
            <div class="custom-row">
              <label for="hairColorInput" data-i18n="hairColor">Hair color</label>
              <input id="hairColorInput" type="color" class="custom-color" value="#1b1411" />
            </div>
            <div class="custom-row">
              <label for="eyeShapeSelect" data-i18n="eyeShape">Eye shape</label>
              <select id="eyeShapeSelect" class="custom-select">
                <option value="normal" data-i18n="eyeNormal">Normal</option>
                <option value="narrow" data-i18n="eyeNarrow">Narrow</option>
                <option value="round" data-i18n="eyeRound">Round</option>
              </select>
            </div>
            <div class="custom-row">
              <label for="mouthShapeSelect" data-i18n="mouthShape">Mouth</label>
              <select id="mouthShapeSelect" class="custom-select">
                <option value="neutral" data-i18n="mouthNeutral">Neutral</option>
                <option value="smile" data-i18n="mouthSmile">Smile</option>
                <option value="frown" data-i18n="mouthFrown">Frown</option>
              </select>
            </div>
          </div>

          <!-- BODY / CLOTHING -->
          <div class="custom-group">
            <div class="custom-group-title" data-i18n="bodyClothesTitle">Body &amp; Clothes</div>
            <div class="custom-row">
              <label for="bodyTypeSelect" data-i18n="bodyType">Body type</label>
              <select id="bodyTypeSelect" class="custom-select">
                <option value="default" data-i18n="bodyDefault">Default</option>
                <option value="heavy" data-i18n="bodyHeavy">Heavy</option>
                <option value="lean" data-i18n="bodyLean">Lean</option>
              </select>
            </div>
            <div class="custom-row">
              <label for="shirtStyleSelect" data-i18n="shirtStyle">Shirt style</label>
              <select id="shirtStyleSelect" class="custom-select">
                <option value="none" data-i18n="shirtNone">No shirt</option>
                <option value="tee" data-i18n="shirtTee">T-shirt</option>
                <option value="gi" data-i18n="shirtGi">Gi top</option>
              </select>
            </div>
            <div class="custom-row">
              <label for="shirtColorInput" data-i18n="shirtColor">Shirt color</label>
              <input id="shirtColorInput" type="color" class="custom-color" value="#2c3e50" />
            </div>
            <div class="custom-row">
              <label for="pantsStyleSelect" data-i18n="pantsStyle">Pants style</label>
              <select id="pantsStyleSelect" class="custom-select">
                <option value="none" data-i18n="pantsNone">No pants</option>
                <option value="shorts" data-i18n="pantsShorts">Shorts</option>
                <option value="pants" data-i18n="pantsPants">Pants</option>
              </select>
            </div>
            <div class="custom-row">
              <label for="pantsColorInput" data-i18n="pantsColor">Pants color</label>
              <input id="pantsColorInput" type="color" class="custom-color" value="#34495e" />
            </div>
            <div class="custom-row">
              <label for="mawashiColorInput" data-i18n="mawashiColor">Mawashi</label>
              <input id="mawashiColorInput" type="color" class="custom-color" value="#e74c3c" />
            </div>
            <div class="custom-row">
              <label for="auraSelect" data-i18n="aura">Aura</label>
              <select id="auraSelect" class="custom-select">
                <option value="none" data-i18n="auraNone">None</option>
                <option value="blue" data-i18n="auraBlue">Ice blue</option>
                <option value="gold" data-i18n="auraGold">Gold</option>
                <option value="purple" data-i18n="auraPurple">Mystic purple</option>
              </select>
            </div>
          </div>
        </div>

        <!-- LEVEL BAR -->
        <div class="level-wrap">
          <div class="level-labels">
            <span id="levelLabel">Level 0</span>
            <span id="xpLabel">0 / 1000 XP</span>
          </div>
          <div class="level-bar">
            <div class="level-fill" id="levelFill"></div>
          </div>
        </div>

        <!-- SUBTABS -->
        <div class="subtab-bar">
          <button class="subtab-btn active" data-subtab="statsPanel" data-i18n="tabStats">Stats</button>
          <button class="subtab-btn" data-subtab="itemsPanel" data-i18n="tabItems">Items</button>
          <button class="subtab-btn" data-subtab="campaignPanel" data-i18n="tabCampaign">Campaign</button>
          <button class="subtab-btn" data-subtab="checkoutPanel" data-i18n="tabCheckout">Checkout</button>
        </div>

        <!-- STATS PANEL -->
        <div class="subtab-panel active" id="statsPanel">
          <div class="stats-grid" id="statsGrid">
            <!-- Filled by JS -->
          </div>
          <div class="stat-footer" id="statsFooter">
            Points available: 9
          </div>
        </div>

        <!-- ITEMS PANEL -->
        <div class="subtab-panel" id="itemsPanel">
          <div class="items-grid">
            <div class="item-card">
              <div class="item-name" data-i18n="itemRedMawashi">Red Mawashi</div>
              <div data-i18n="itemRedMawashiDesc">Classic challenger mawashi. +1 Attack.</div>
            </div>
            <div class="item-card">
              <div class="item-name" data-i18n="itemBlueMawashi">Blue Mawashi</div>
              <div data-i18n="itemBlueMawashiDesc">Defensive mawashi. +1 Defense.</div>
            </div>
            <div class="item-card">
              <div class="item-name" data-i18n="itemAuraIce">Ice Aura</div>
              <div data-i18n="itemAuraIceDesc">Chill aura trail. Cosmetic only.</div>
            </div>
          </div>
        </div>

        <!-- CAMPAIGN PANEL -->
        <div class="subtab-panel" id="campaignPanel">
          <ul class="campaign-list">
            <li>
              <span data-i18n="campaignLocalDojo">Local Dojo</span>
              <span class="campaign-tag tag-unlocked" id="dojoTag">Unlocked</span>
            </li>
            <li>
              <span data-i18n="campaignRegionalHall">Regional Hall</span>
              <span class="campaign-tag" id="regionalTag">Locked</span>
            </li>
            <li>
              <span data-i18n="campaignNationalArena">National Arena</span>
              <span class="campaign-tag" id="nationalTag">Locked</span>
            </li>
            <li>
              <span data-i18n="campaignGrandTournament">Grand Tournament</span>
              <span class="campaign-tag" id="grandTag">Locked</span>
            </li>
            <li>
              <span data-i18n="campaignYokozunaHall">Yokozuna Hall</span>
              <span class="campaign-tag" id="yokozunaTag">Locked</span>
            </li>
          </ul>
        </div>

        <!-- CHECKOUT PANEL -->
        <div class="subtab-panel" id="checkoutPanel">
          <div class="checkout-row">
            <span data-i18n="checkoutTokens">Total tokens</span>
            <span id="checkoutTokensValue">34,250</span>
          </div>
          <div class="checkout-row">
            <span data-i18n="checkoutOwnedItems">Owned items</span>
            <span id="checkoutItemsValue">3</span>
          </div>
          <div class="checkout-row">
            <span data-i18n="checkoutStadiums">Stadiums unlocked</span>
            <span id="checkoutStadiumsValue">1 / 5</span>
          </div>
          <div class="checkout-total" data-i18n="checkoutHint">
            Link these values to your backend or wallet later.
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- SETTINGS MODAL -->
  <div class="modal-backdrop" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title" data-i18n="settingsTitle">Settings</div>
        <button class="modal-close" id="settingsCloseBtn">✕</button>
      </div>
      <div class="settings-grid">
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingTheme">Theme</div>
          <div class="setting-control" data-i18n="settingThemeDesc">
            Light / dark theme toggles (future).
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingNotifications">Notifications</div>
          <div class="setting-control" data-i18n="settingNotificationsDesc">
            Enable match reminders and XP alerts.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingVisual">Visual</div>
          <div class="setting-control" data-i18n="settingVisualDesc">
            Toggle particle effects and camera shakes.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingAudio">Audio</div>
          <div class="setting-control" data-i18n="settingAudioDesc">
            Crowd volume, hit sounds, and music.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingLanguage">Language</div>
          <div class="setting-control" data-i18n="settingLanguageDesc">
            Use the footer to switch UI language.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingAccessibility">Accessibility</div>
          <div class="setting-control" data-i18n="settingAccessibilityDesc">
            High contrast, larger text, reduced motion.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingUiScale">UI Scale</div>
          <div class="setting-control" data-i18n="settingUiScaleDesc">
            Small / medium / large interface size.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingCamera">Camera</div>
          <div class="setting-control" data-i18n="settingCameraDesc">
            Camera zoom and tracking options.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingAnimations">Animations</div>
          <div class="setting-control" data-i18n="settingAnimationsDesc">
            Turn advanced animations on or off.
          </div>
        </div>
        <div class="setting-card">
          <div class="setting-name" data-i18n="settingReset">Reset Profile</div>
          <div class="setting-control" data-i18n="settingResetDesc">
            Reset avatar, stats, and XP (coming soon).
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER WITH 3×2 LINKS AND LANGUAGE DROPDOWN -->
  <footer>
    <div class="footer-top">
      <div class="visitor-stats">
        <span id="onlineNow" data-i18n="onlineNow">Online now: 1</span>
        <span id="allTimeVisitors" data-i18n="allTimeVisitors">All-time visitors: 1</span>
      </div>
      <div class="language-select">
        <span data-i18n="languageLabel">Language:</span>
        <select id="languageDropdown">
          <option value="en">English</option>
          <option value="fr">Français</option>
          <option value="es">Español</option>
          <option value="de">Deutsch</option>
          <option value="pt">Português</option>
          <option value="ru">Русский</option>
          <option value="ja">日本語</option>
          <option value="ko">한국어</option>
          <option value="zh">中文</option>
          <option value="ar">العربية</option>
        </select>
      </div>
    </div>
    <div class="footer-grid">
      <a href="#" class="footer-link" data-i18n="footerPrivacy">Privacy Policy</a>
      <a href="#" class="footer-link" data-i18n="footerCookies">Cookies Policy</a>
      <a href="#" class="footer-link" data-i18n="footerCommunity">Community Guidelines</a>
      <a href="#" class="footer-link" data-i18n="footerContact">Contact Us</a>
      <a href="#" class="footer-link" data-i18n="footerHelp">Help Center</a>
      <a href="#" class="footer-link" data-i18n="footerFaq">FAQs</a>
    </div>
  </footer>

  <script>
    // =====================
    // SIMPLE LOCAL STORAGE KEYS
    // =====================
    const STORAGE_KEYS = {
      displayName: "sumoProfileDisplayName",
      username: "sumoProfileUsername",
      usernameChangedAt: "sumoProfileUsernameChangedAt",
      stats: "sumoProfileStats",
      xp: "sumoProfileXP",
      avatar: "sumoProfileAvatar",
      language: "sumoProfileLanguage",
    };

    // =====================
    // STATS CONFIG
    // =====================
    const BASE_STAT_POINTS = 9;
    const STAT_CONFIG = [
      { key: "strength", label: "Strength" },
      { key: "agility", label: "Agility" },
      { key: "attack", label: "Attack" },
      { key: "defense", label: "Defense" },
      { key: "stamina", label: "Stamina" },
      { key: "vitality", label: "Vitality" },
      { key: "charisma", label: "Charisma" },
      { key: "technique", label: "Technique" },
      { key: "balance", label: "Balance" },
    ];

    // XP LEVEL THRESHOLDS (TOTAL XP REQUIRED PER LEVEL)
    function getLevelThresholds() {
      const thresholds = [0]; // Level 0
      let total = 0;
      let increment = 1000;
      for (let lvl = 1; lvl <= 10; lvl++) {
        total += increment;
        thresholds.push(total);
        increment += 1000;
      }
      return thresholds;
    }

    const LEVEL_THRESHOLDS = getLevelThresholds();

    // =====================
    // LOAD / SAVE HELPERS
    // =====================
    function loadJSON(key, fallback) {
      try {
        const raw = localStorage.getItem(key);
        if (!raw) return fallback;
        return JSON.parse(raw);
      } catch (e) {
        return fallback;
      }
    }

    function saveJSON(key, value) {
      try {
        localStorage.setItem(key, JSON.stringify(value));
      } catch (e) {}
    }

    // =====================
    // DISPLAY NAME & USERNAME
    // =====================
    const displayNameInput = document.getElementById("displayNameInput");
    const usernameInput = document.getElementById("usernameInput");
    const saveDisplayNameBtn = document.getElementById("saveDisplayNameBtn");
    const saveUsernameBtn = document.getElementById("saveUsernameBtn");

    function initIdentity() {
      const storedDisplay = localStorage.getItem(STORAGE_KEYS.displayName) || "You";
      const storedUser = localStorage.getItem(STORAGE_KEYS.username) || "Player1";
      displayNameInput.value = storedDisplay;
      usernameInput.value = storedUser;
    }

    if (saveDisplayNameBtn) {
      saveDisplayNameBtn.addEventListener("click", () => {
        const name = displayNameInput.value.trim().slice(0, 64);
        localStorage.setItem(STORAGE_KEYS.displayName, name || "You");
        alert("Display name saved.");
      });
    }

    if (saveUsernameBtn) {
      saveUsernameBtn.addEventListener("click", () => {
        const now = Date.now();
        const lastChangeRaw = localStorage.getItem(STORAGE_KEYS.usernameChangedAt);
        const oneWeekMs = 7 * 24 * 60 * 60 * 1000;
        if (lastChangeRaw) {
          const last = parseInt(lastChangeRaw, 10) || 0;
          if (now - last < oneWeekMs) {
            alert("You can only change your username once per week.");
            return;
          }
        }
        const u = usernameInput.value.trim().slice(0, 64);
        if (!u) {
          alert("Username cannot be empty.");
          return;
        }
        localStorage.setItem(STORAGE_KEYS.username, u);
        localStorage.setItem(STORAGE_KEYS.usernameChangedAt, String(now));
        alert("Username saved.");
      });
    }

    // =====================
    // AVATAR CUSTOMIZATION
    // =====================
    const avatarEl = {
      root: document.querySelector(".avatar-figure"),
    };

    const avatarInputs = {
      skinColor: document.getElementById("skinColorInput"),
      hairStyle: document.getElementById("hairStyleSelect"),
      hairColor: document.getElementById("hairColorInput"),
      eyeShape: document.getElementById("eyeShapeSelect"),
      mouthShape: document.getElementById("mouthShapeSelect"),
      bodyType: document.getElementById("bodyTypeSelect"),
      shirtStyle: document.getElementById("shirtStyleSelect"),
      shirtColor: document.getElementById("shirtColorInput"),
      pantsStyle: document.getElementById("pantsStyleSelect"),
      pantsColor: document.getElementById("pantsColorInput"),
      mawashiColor: document.getElementById("mawashiColorInput"),
      aura: document.getElementById("auraSelect"),
    };

    function getAvatarState() {
      return loadJSON(STORAGE_KEYS.avatar, {
        skinColor: "#f3d0a0",
        hairStyle: "topknot",
        hairColor: "#1b1411",
        eyeShape: "normal",
        mouthShape: "neutral",
        bodyType: "default",
        shirtStyle: "none",
        shirtColor: "#2c3e50",
        pantsStyle: "none",
        pantsColor: "#34495e",
        mawashiColor: "#e74c3c",
        aura: "none",
      });
    }

    function applyAvatarState(state) {
      // update CSS variables on root
      if (!avatarEl.root) return;
      avatarEl.root.style.setProperty("--body-color", state.skinColor);
      avatarEl.root.style.setProperty("--hair-color", state.hairColor);
      avatarEl.root.style.setProperty("--mawashi-color", state.mawashiColor);
      avatarEl.root.style.setProperty("--shirt-color", state.shirtColor);
      avatarEl.root.style.setProperty("--pants-color", state.pantsColor);

      // shirt & pants visibility
      avatarEl.root.style.setProperty("--shirt-visible", state.shirtStyle === "none" ? "0" : "1");
      avatarEl.root.style.setProperty("--pants-visible", state.pantsStyle === "none" ? "0" : "1");

      // aura
      let auraColor = "transparent";
      let auraVis = 0;
      if (state.aura === "blue") {
        auraColor = "#5dade2";
        auraVis = 1;
      } else if (state.aura === "gold") {
        auraColor = "#f1c40f";
        auraVis = 1;
      } else if (state.aura === "purple") {
        auraColor = "#9b59b6";
        auraVis = 1;
      }
      avatarEl.root.style.setProperty("--aura-color", auraColor);
      avatarEl.root.style.setProperty("--aura-visible", auraVis.toString());

      // hair style: use border-radii as a quick stand-in
      let hairRadius = "40px 40px 10px 10px";
      let topknotVis = 1;
      if (state.hairStyle === "short") {
        hairRadius = "40px 40px 40px 40px";
        topknotVis = 0;
      } else if (state.hairStyle === "long") {
        hairRadius = "50px 50px 40px 40px";
        topknotVis = 0;
      } else if (state.hairStyle === "mohawk") {
        hairRadius = "10px 10px 40px 40px";
        topknotVis = 0;
      }
      avatarEl.root.style.setProperty("--hair-radius", hairRadius);
      avatarEl.root.style.setProperty("--topknot-visible", topknotVis.toString());

      // optional: bodyType affects shadow or maybe scaling (simple for now)
      // (placeholders – in future you can scale width/height)
    }

    function initAvatarControls() {
      const state = getAvatarState();
      // apply to inputs
      avatarInputs.skinColor.value = state.skinColor;
      avatarInputs.hairStyle.value = state.hairStyle;
      avatarInputs.hairColor.value = state.hairColor;
      avatarInputs.eyeShape.value = state.eyeShape;
      avatarInputs.mouthShape.value = state.mouthShape;
      avatarInputs.bodyType.value = state.bodyType;
      avatarInputs.shirtStyle.value = state.shirtStyle;
      avatarInputs.shirtColor.value = state.shirtColor;
      avatarInputs.pantsStyle.value = state.pantsStyle;
      avatarInputs.pantsColor.value = state.pantsColor;
      avatarInputs.mawashiColor.value = state.mawashiColor;
      avatarInputs.aura.value = state.aura;

      applyAvatarState(state);

      Object.entries(avatarInputs).forEach(([key, el]) => {
        el.addEventListener("change", () => {
          const current = getAvatarState();
          if (key.endsWith("Color") || key === "skinColor") {
            current[key] = el.value;
          } else {
            current[key] = el.value;
          }
          saveJSON(STORAGE_KEYS.avatar, current);
          applyAvatarState(current);
        });
      });
    }

    // =====================
    // STATS + POINT SPENDING
    // =====================
    const statsGrid = document.getElementById("statsGrid");
    const statsFooter = document.getElementById("statsFooter");

    function getStatsState() {
      const defaultStats = {};
      STAT_CONFIG.forEach((s) => (defaultStats[s.key] = 0));
      return loadJSON(STORAGE_KEYS.stats, defaultStats);
    }

    function getXp() {
      return loadJSON(STORAGE_KEYS.xp, 0);
    }

    function getLevelFromXp(xp) {
      let level = 0;
      for (let i = 1; i < LEVEL_THRESHOLDS.length; i++) {
        if (xp >= LEVEL_THRESHOLDS[i]) {
          level = i;
        } else {
          break;
        }
      }
      return level;
    }

    function getPointsAvailable(stats, xp) {
      // base = 9; optionally +1 per level
      const level = getLevelFromXp(xp);
      const totalPoints = BASE_STAT_POINTS + level; // you can tweak this
      const spent = STAT_CONFIG.reduce((sum, s) => sum + (stats[s.key] || 0), 0);
      return { totalPoints, spent, remaining: totalPoints - spent };
    }

    function renderStats() {
      const stats = getStatsState();
      const xp = getXp();
      const { totalPoints, spent, remaining } = getPointsAvailable(stats, xp);

      if (!statsGrid) return;
      statsGrid.innerHTML = "";
      STAT_CONFIG.forEach((s) => {
        const value = stats[s.key] || 0;
        const card = document.createElement("div");
        card.className = "stat-card";
        card.innerHTML = `
          <div class="stat-name">${s.label}</div>
          <div class="stat-value">${value}</div>
          <div class="stat-buttons">
            <button class="stat-btn minus" data-key="${s.key}" data-delta="-1">–</button>
            <button class="stat-btn plus" data-key="${s.key}" data-delta="1">+</button>
          </div>
        `;
        statsGrid.appendChild(card);
      });

      if (statsFooter) {
        statsFooter.textContent =
          "Points available: " +
          Math.max(0, remaining) +
          " (Total: " +
          totalPoints +
          ", Spent: " +
          spent +
          ")";
      }

      statsGrid.querySelectorAll(".stat-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const key = btn.getAttribute("data-key");
          const delta = parseInt(btn.getAttribute("data-delta"), 10);
          const st = getStatsState();
          const xpNow = getXp();
          const { totalPoints, spent, remaining } = getPointsAvailable(st, xpNow);

          if (delta > 0 && remaining <= 0) {
            alert("No stat points remaining.");
            return;
          }
          if (delta < 0 && (st[key] || 0) <= 0) {
            return;
          }
          st[key] = (st[key] || 0) + delta;
          saveJSON(STORAGE_KEYS.stats, st);
          renderStats();
        });
      });
    }

    // =====================
    // XP + LEVEL BAR + CAMPAIGN UNLOCKS
    // =====================
    const levelLabel = document.getElementById("levelLabel");
    const xpLabel = document.getElementById("xpLabel");
    const levelFill = document.getElementById("levelFill");

    const dojoTag = document.getElementById("dojoTag");
    const regionalTag = document.getElementById("regionalTag");
    const nationalTag = document.getElementById("nationalTag");
    const grandTag = document.getElementById("grandTag");
    const yokozunaTag = document.getElementById("yokozunaTag");

    function updateCampaignUnlocks(level) {
      // Level 1: Regional, 2: National, 3: Grand, 4: Yokozuna
      if (!dojoTag) return;
      function setTag(el, unlocked) {
        if (!el) return;
        if (unlocked) {
          el.textContent = "Unlocked";
          el.classList.remove("tag-locked");
          el.classList.add("tag-unlocked");
        } else {
          el.textContent = "Locked";
          el.classList.remove("tag-unlocked");
          el.classList.add("tag-locked");
        }
      }
      setTag(dojoTag, true);
      setTag(regionalTag, level >= 1);
      setTag(nationalTag, level >= 2);
      setTag(grandTag, level >= 3);
      setTag(yokozunaTag, level >= 4);

      const stadiumsUnlocked =
        1 + (level >= 1 ? 1 : 0) + (level >= 2 ? 1 : 0) + (level >= 3 ? 1 : 0) + (level >= 4 ? 1 : 0);
      const checkoutStadiumsValue = document.getElementById("checkoutStadiumsValue");
      if (checkoutStadiumsValue) {
        checkoutStadiumsValue.textContent = stadiumsUnlocked + " / 5";
      }
    }

    function updateLevelUI() {
      const xp = getXp();
      const thresholds = LEVEL_THRESHOLDS;
      let level = 0;
      for (let i = 1; i < thresholds.length; i++) {
        if (xp >= thresholds[i]) {
          level = i;
        } else {
          break;
        }
      }
      const nextLevelXp = thresholds[level + 1] ?? thresholds[thresholds.length - 1];
      const prevLevelXp = thresholds[level];
      const range = nextLevelXp - prevLevelXp || 1;
      const progress = Math.max(0, Math.min(1, (xp - prevLevelXp) / range));

      if (levelLabel) levelLabel.textContent = "Level " + level;
      if (xpLabel) xpLabel.textContent = xp + " / " + nextLevelXp + " XP";
      if (levelFill) levelFill.style.width = (progress * 100).toFixed(1) + "%";

      updateCampaignUnlocks(level);
      renderStats(); // recalculates total stat points including level
    }

    // (Optional) call this from game when a bout is won:
    // function addXp(amount) { ... }
    function addXp(amount) {
      const xp = getXp();
      const next = xp + amount;
      saveJSON(STORAGE_KEYS.xp, next);
      updateLevelUI();
    }

    // =====================
    // SUBTABS HANDLING
    // =====================
    const subtabButtons = Array.from(document.querySelectorAll(".subtab-btn"));
    const subtabPanels = {
      statsPanel: document.getElementById("statsPanel"),
      itemsPanel: document.getElementById("itemsPanel"),
      campaignPanel: document.getElementById("campaignPanel"),
      checkoutPanel: document.getElementById("checkoutPanel"),
    };

    subtabButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-subtab");
        subtabButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        Object.entries(subtabPanels).forEach(([id, panel]) => {
          if (!panel) return;
          panel.classList.toggle("active", id === target);
        });
      });
    });

    // =====================
    // SETTINGS MODAL
    // =====================
    const settingsBtn = document.getElementById("settingsBtn");
    const settingsModal = document.getElementById("settingsModal");
    const settingsCloseBtn = document.getElementById("settingsCloseBtn");

    if (settingsBtn && settingsModal) {
      settingsBtn.addEventListener("click", () => {
        settingsModal.classList.add("active");
      });
    }

    if (settingsCloseBtn && settingsModal) {
      settingsCloseBtn.addEventListener("click", () => {
        settingsModal.classList.remove("active");
      });
      settingsModal.addEventListener("click", (e) => {
        if (e.target === settingsModal) {
          settingsModal.classList.remove("active");
        }
      });
    }

    // =====================
    // LANGUAGE SYSTEM (PROFILE PAGE ONLY)
    // =====================
    const languageDropdown = document.getElementById("languageDropdown");

    const translations = {
      en: {
        backHub: "Back to Hub",
        profileTitle: "Your Player",
        profileSubtitle: "Edit your display name, avatar style, stats, and campaign progress.",
        avatarTitle: "Your Wrestler",
        displayNameLabel: "Display name:",
        saveDisplayName: "Save",
        usernameLabel: "Username:",
        saveUsername: "Save (1× / week)",
        identityHelp: "Usernames can be changed once a week. Display names can be updated any time.",
        customizeHeader: "Customize",
        faceHairTitle: "Face & Hair",
        skinColor: "Skin color",
        hairStyle: "Hair style",
        hairTopknot: "Topknot",
        hairShort: "Short",
        hairLong: "Long",
        hairMohawk: "Mohawk",
        hairColor: "Hair color",
        eyeShape: "Eye shape",
        eyeNormal: "Normal",
        eyeNarrow: "Narrow",
        eyeRound: "Round",
        mouthShape: "Mouth",
        mouthNeutral: "Neutral",
        mouthSmile: "Smile",
        mouthFrown: "Frown",
        bodyClothesTitle: "Body & Clothes",
        bodyType: "Body type",
        bodyDefault: "Default",
        bodyHeavy: "Heavy",
        bodyLean: "Lean",
        shirtStyle: "Shirt style",
        shirtNone: "No shirt",
        shirtTee: "T-shirt",
        shirtGi: "Gi top",
        shirtColor: "Shirt color",
        pantsStyle: "Pants style",
        pantsNone: "No pants",
        pantsShorts: "Shorts",
        pantsPants: "Pants",
        pantsColor: "Pants color",
        mawashiColor: "Mawashi",
        aura: "Aura",
        auraNone: "None",
        auraBlue: "Ice blue",
        auraGold: "Gold",
        auraPurple: "Mystic purple",
        tabStats: "Stats",
        tabItems: "Items",
        tabCampaign: "Campaign",
        tabCheckout: "Checkout",
        itemRedMawashi: "Red Mawashi",
        itemRedMawashiDesc: "Classic challenger mawashi. +1 Attack.",
        itemBlueMawashi: "Blue Mawashi",
        itemBlueMawashiDesc: "Defensive mawashi. +1 Defense.",
        itemAuraIce: "Ice Aura",
        itemAuraIceDesc: "Chill aura trail. Cosmetic only.",
        campaignLocalDojo: "Local Dojo",
        campaignRegionalHall: "Regional Hall",
        campaignNationalArena: "National Arena",
        campaignGrandTournament: "Grand Tournament",
        campaignYokozunaHall: "Yokozuna Hall",
        checkoutTokens: "Total tokens",
        checkoutOwnedItems: "Owned items",
        checkoutStadiums: "Stadiums unlocked",
        checkoutHint: "Link these values to your backend or wallet later.",
        settingsTitle: "Settings",
        settingTheme: "Theme",
        settingThemeDesc: "Light / dark theme toggles (future).",
        settingNotifications: "Notifications",
        settingNotificationsDesc: "Enable match reminders and XP alerts.",
        settingVisual: "Visual",
        settingVisualDesc: "Toggle particle effects and camera shakes.",
        settingAudio: "Audio",
        settingAudioDesc: "Crowd volume, hit sounds, and music.",
        settingLanguage: "Language",
        settingLanguageDesc: "Use the footer to switch UI language.",
        settingAccessibility: "Accessibility",
        settingAccessibilityDesc: "High contrast, larger text, reduced motion.",
        settingUiScale: "UI Scale",
        settingUiScaleDesc: "Small / medium / large interface size.",
        settingCamera: "Camera",
        settingCameraDesc: "Camera zoom and tracking options.",
        settingAnimations: "Animations",
        settingAnimationsDesc: "Turn advanced animations on or off.",
        settingReset: "Reset Profile",
        settingResetDesc: "Reset avatar, stats, and XP (coming soon).",
        onlineNow: "Online now: 1",
        allTimeVisitors: "All-time visitors: 1",
        languageLabel: "Language:",
        footerPrivacy: "Privacy Policy",
        footerCookies: "Cookies Policy",
        footerCommunity: "Community Guidelines",
        footerContact: "Contact Us",
        footerHelp: "Help Center",
        footerFaq: "FAQs",
      },
      // For brevity, other languages share most English labels.
      // You can expand these with full translations later.
      fr: {
        backHub: "Retour au hub",
        profileTitle: "Votre joueur",
        profileSubtitle:
          "Modifiez votre nom d’affichage, le style d’avatar, les statistiques et la progression.",
        avatarTitle: "Votre lutteur",
        languageLabel: "Langue:",
      },
      es: {
        backHub: "Volver al hub",
        profileTitle: "Tu jugador",
        avatarTitle: "Tu luchador de sumo",
        languageLabel: "Idioma:",
      },
      de: { backHub: "Zurück zum Hub", profileTitle: "Dein Spieler", languageLabel: "Sprache:" },
      pt: { backHub: "Voltar ao hub", profileTitle: "Seu jogador", languageLabel: "Idioma:" },
      ru: { backHub: "Назад в хаб", profileTitle: "Ваш игрок", languageLabel: "Язык:" },
      ja: { backHub: "ハブに戻る", profileTitle: "あなたのプレーヤー", avatarTitle: "あなたの力士" },
      ko: { backHub: "허브로 돌아가기", profileTitle: "당신의 선수" },
      zh: { backHub: "返回主页面", profileTitle: "你的选手" },
      ar: { backHub: "العودة إلى المركز", profileTitle: "لاعبك" },
    };

    function applyLanguage(lang) {
      const dict = translations[lang] || translations.en;
      document.querySelectorAll("[data-i18n]").forEach((el) => {
        const key = el.getAttribute("data-i18n");
        if (dict[key]) {
          el.textContent = dict[key];
        }
      });
      localStorage.setItem(STORAGE_KEYS.language, lang);
    }

    if (languageDropdown) {
      const storedLang = localStorage.getItem(STORAGE_KEYS.language) || "en";
      languageDropdown.value = storedLang;
      languageDropdown.addEventListener("change", () => {
        applyLanguage(languageDropdown.value);
      });
    }

    // =====================
    // INIT
    // =====================
    function initProfile() {
      initIdentity();
      initAvatarControls();
      renderStats();
      updateLevelUI();
      const startLang = localStorage.getItem(STORAGE_KEYS.language) || "en";
      applyLanguage(startLang);
    }

    document.addEventListener("DOMContentLoaded", initProfile);
  </script>
</body>
</html>
